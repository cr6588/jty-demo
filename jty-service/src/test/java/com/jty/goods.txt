[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.parser.SQLParseEngine:72}-Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=goods, alias=Optional.absent())], sqlStatementType=null, sqlBuilder=null), generatedKeyContext=GeneratedKeyContext(columns=[], columnNameToIndexMap={}, valueTable={}, rowIndex=0, columnIndex=0, autoGeneratedKeys=0, columnIndexes=null, columnNames=null), conditionContexts=[ConditionContext(conditions={Condition.Column(columnName=id, tableName=goods)=Condition(column=Condition.Column(columnName=id, tableName=goods), operator==, values=[7], valueIndices=[0]), Condition.Column(columnName=user_id, tableName=goods)=Condition(column=Condition.Column(columnName=user_id, tableName=goods), operator==, values=[1], valueIndices=[1])})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.parser.SQLParseEngine:73}-Parsed SQL: SELECT id, name, SKU, price, user_id FROM [Token(goods)] WHERE id = ? AND user_id = ?
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:169}-Before database sharding goods routes db names: [localhost:3308/jty_order_0] sharding columns: [id] sharding values: [ShardingValue(logicTableName=goods, columnName=id, value=7, values=[], valueRange=null)]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:173}-After database sharding goods result: [localhost:3308/jty_order_0]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:169}-Before table sharding goods routes db names: [DataNode(dataSourceName=localhost:3308/jty_order_0, tableName=goods_1)] sharding columns: [user_id] sharding values: [ShardingValue(logicTableName=goods, columnName=user_id, value=1, values=[], valueRange=null)]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:173}-After table sharding goods result: [goods_1]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:99}-final route result is 1 target
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:101}-localhost:3308/jty_order_0:SELECT id, name, SKU, price, user_id FROM goods_1 WHERE id = ? AND user_id = ? [7, 1]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:103}-merge context:MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null)
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.mybatis.spring.SqlSessionUtils:163}-Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a6abe6]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.mybatis.spring.SqlSessionUtils:287}-Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a6abe6]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.mybatis.spring.SqlSessionUtils:292}-Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66a6abe6]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.springframework.jdbc.datasource.DataSourceTransactionManager:843}-Initiating transaction rollback
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.springframework.jdbc.datasource.DataSourceTransactionManager:279}-Rolling back JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@58930cfc]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.springframework.jdbc.datasource.DataSourceUtils:222}-Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@58930cfc]
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.springframework.jdbc.datasource.DataSourceTransactionManager:322}-Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@58930cfc] after transaction
[2017-03-22 20:06:07 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-10] {org.springframework.jdbc.datasource.DataSourceUtils:332}-Returning JDBC Connection to DataSource
[2017-03-22 20:06:07 ERROR] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.alibaba.dubbo.rpc.filter.ExceptionFilter:87}- [DUBBO] Got unchecked and undeclared exception which called by 192.168.1.171. service: com.jty.order.service.OrderSer, method: getGoods, exception: org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 