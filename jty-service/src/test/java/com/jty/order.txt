[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.parser.SQLParseEngine:72}-Parsed SQL result: SQLParsedResult(routeContext=RouteContext(tables=[Table(name=t_order, alias=Optional.absent())], sqlStatementType=null, sqlBuilder=null), generatedKeyContext=GeneratedKeyContext(columns=[], columnNameToIndexMap={}, valueTable={}, rowIndex=0, columnIndex=0, autoGeneratedKeys=0, columnIndexes=null, columnNames=null), conditionContexts=[ConditionContext(conditions={Condition.Column(columnName=id, tableName=t_order)=Condition(column=Condition.Column(columnName=id, tableName=t_order), operator==, values=[7], valueIndices=[0]), Condition.Column(columnName=user_id, tableName=t_order)=Condition(column=Condition.Column(columnName=user_id, tableName=t_order), operator==, values=[1], valueIndices=[1])})], mergeContext=MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null))
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.parser.SQLParseEngine:73}-Parsed SQL: SELECT id, no, user_id, total_money FROM [Token(t_order)] WHERE id = ? AND user_id = ?
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:169}-Before database sharding t_order routes db names: [localhost:3308/jty_order_0] sharding columns: [id] sharding values: [ShardingValue(logicTableName=t_order, columnName=id, value=7, values=[], valueRange=null)]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:173}-After database sharding t_order result: [localhost:3308/jty_order_0]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:169}-Before table sharding t_order routes db names: [DataNode(dataSourceName=localhost:3308/jty_order_0, tableName=t_order_1)] sharding columns: [user_id] sharding values: [ShardingValue(logicTableName=t_order, columnName=user_id, value=1, values=[], valueRange=null)]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.single.SingleTableRouter:173}-After table sharding t_order result: [t_order_1]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:99}-final route result is 1 target
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:101}-localhost:3308/jty_order_0:SELECT id, no, user_id, total_money FROM t_order_1 WHERE id = ? AND user_id = ? [7, 1]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.dangdang.ddframe.rdb.sharding.router.SQLRouteEngine:103}-merge context:MergeContext(orderByColumns=[], groupByColumns=[], aggregationColumns=[], limit=null)
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {com.jty.order.dao.OrderDao.getOrder:139}-<==      Total: 0
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.mybatis.spring.SqlSessionUtils:163}-Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac29298]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.mybatis.spring.SqlSessionUtils:261}-Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac29298]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.mybatis.spring.SqlSessionUtils:287}-Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac29298]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.mybatis.spring.SqlSessionUtils:292}-Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac29298]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.springframework.jdbc.datasource.DataSourceTransactionManager:752}-Initiating transaction commit
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.springframework.jdbc.datasource.DataSourceTransactionManager:264}-Committing JDBC transaction on Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@14057e68]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.springframework.jdbc.datasource.DataSourceUtils:222}-Resetting read-only flag of JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@14057e68]
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.springframework.jdbc.datasource.DataSourceTransactionManager:322}-Releasing JDBC Connection [com.dangdang.ddframe.rdb.sharding.jdbc.ShardingConnection@14057e68] after transaction
[2017-03-22 20:03:48 DEBUG] [DubboServerHandler-192.168.1.171:20880-thread-9] {org.springframework.jdbc.datasource.DataSourceUtils:332}-Returning JDBC Connection to DataSource
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unregister consumer://192.168.1.171/com.jty.sys.service.SysSer?application=dubbo-client&category=consumers&check=false&dubbo=2.5.3&interface=com.jty.sys.service.SysSer&methods=deleteDatabaseTable,getDatabaseInstanceList,getDatabaseTableList,getCompanyDbList,deleteDatabase,getCompanyDb,getDatabaseInstance,updateDatabaseInstance,deleteCompanyDb,updateDatabaseTable,updateDatabase,getDatabaseTableListCnt,getCompanyDbListCnt,getDatabaseByCompanyDbId,deleteDatabaseInstance,addDatabase,addCompanyDb,getDatabaseListCnt,getDatabase,getDatabaseInstanceListCnt,addDatabaseInstance,addDatabaseTable,updateCompanyDb,getDatabaseTable,getDatabaseList&pid=13948&side=consumer&timestamp=1490184227680 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unregister consumer://192.168.1.171/com.jty.order.service.OrderSer?application=dubbo-client&category=consumers&check=false&dubbo=2.5.3&interface=com.jty.order.service.OrderSer&methods=getOrderList,getOrderListCnt,deleteGoods,updateOrder,getGoodsListCnt,updateGoods,getOrder,addGoods,getGoodsList,addOrder,addOrderGoods,deleteOrder,getGoods&pid=13948&side=consumer&timestamp=1490184227385 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unregister consumer://192.168.1.171/com.jty.sys.service.SysSer?application=dubbo-client&category=providers,configurators,routers&dubbo=2.5.3&interface=com.jty.sys.service.SysSer&methods=deleteDatabaseTable,getDatabaseInstanceList,getDatabaseTableList,getCompanyDbList,deleteDatabase,getCompanyDb,getDatabaseInstance,updateDatabaseInstance,deleteCompanyDb,updateDatabaseTable,updateDatabase,getDatabaseTableListCnt,getCompanyDbListCnt,getDatabaseByCompanyDbId,deleteDatabaseInstance,addDatabase,addCompanyDb,getDatabaseListCnt,getDatabase,getDatabaseInstanceListCnt,addDatabaseInstance,addDatabaseTable,updateCompanyDb,getDatabaseTable,getDatabaseList&pid=13948&side=consumer&timestamp=1490184227680 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unsubscribe consumer://192.168.1.171/com.jty.sys.service.SysSer?application=dubbo-client&category=providers,configurators,routers&dubbo=2.5.3&interface=com.jty.sys.service.SysSer&methods=deleteDatabaseTable,getDatabaseInstanceList,getDatabaseTableList,getCompanyDbList,deleteDatabase,getCompanyDb,getDatabaseInstance,updateDatabaseInstance,deleteCompanyDb,updateDatabaseTable,updateDatabase,getDatabaseTableListCnt,getCompanyDbListCnt,getDatabaseByCompanyDbId,deleteDatabaseInstance,addDatabase,addCompanyDb,getDatabaseListCnt,getDatabase,getDatabaseInstanceListCnt,addDatabaseInstance,addDatabaseTable,updateCompanyDb,getDatabaseTable,getDatabaseList&pid=13948&side=consumer&timestamp=1490184227680 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unregister consumer://192.168.1.171/com.jty.order.service.OrderSer?application=dubbo-client&category=providers,configurators,routers&dubbo=2.5.3&interface=com.jty.order.service.OrderSer&methods=getOrderList,getOrderListCnt,deleteGoods,updateOrder,getGoodsListCnt,updateGoods,getOrder,addGoods,getGoodsList,addOrder,addOrderGoods,deleteOrder,getGoods&pid=13948&side=consumer&timestamp=1490184227385 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboMulticastRegistryReceiver] {com.alibaba.dubbo.registry.multicast.MulticastRegistry:203}- [DUBBO] Receive multicast message: unsubscribe consumer://192.168.1.171/com.jty.order.service.OrderSer?application=dubbo-client&category=providers,configurators,routers&dubbo=2.5.3&interface=com.jty.order.service.OrderSer&methods=getOrderList,getOrderListCnt,deleteGoods,updateOrder,getGoodsListCnt,updateGoods,getOrder,addGoods,getGoodsList,addOrder,addOrderGoods,deleteOrder,getGoods&pid=13948&side=consumer&timestamp=1490184227385 from /192.168.1.171:1234, dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 WARN ] [New I/O server worker #1-3] {com.alibaba.dubbo.remoting.transport.AbstractServer:197}- [DUBBO] All clients has discontected from /192.168.1.171:20880. You can graceful shutdown now., dubbo version: 2.5.3, current host: 192.168.1.171
[2017-03-22 20:03:48 INFO ] [DubboServerHandler-192.168.1.171:20880-thread-10] {com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol:130}- [DUBBO] disconected from /192.168.1.171:63478,url:dubbo://192.168.1.171:20880/com.jty.user.service.UserSer?anyhost=true&application=dubbo-server&channel.readonly.sent=true&codec=dubbo&default.accepts=10&default.threadpool=fixed&default.threads=10&default.timeout=5000&dubbo=2.5.3&heartbeat=60000&interface=com.jty.user.service.UserSer&methods=addUser,getUser,deleteUser,updateUser,getUserListCnt,getUserList&pid=13548&retries=0&side=provider&timestamp=1490183452186, dubbo version: 2.5.3, current host: 192.168.1.171
